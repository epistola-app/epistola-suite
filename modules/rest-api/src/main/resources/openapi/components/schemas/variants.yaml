VariantDto:
  type: object
  description: Full template variant with version summary
  required:
    - id
    - templateId
    - tags
    - hasDraft
    - publishedVersions
    - createdAt
    - lastModified
  properties:
    id:
      type: string
      pattern: '^[a-z][a-z0-9]*(-[a-z0-9]+)*$'
      minLength: 3
      maxLength: 50
      description: Slug identifier of the variant
    templateId:
      type: string
      pattern: '^[a-z][a-z0-9]*(-[a-z0-9]+)*$'
      minLength: 3
      maxLength: 50
      description: Slug identifier of the template this variant belongs to
    title:
      type:
        - string
        - 'null'
      description: Human-readable title for the variant
    description:
      type:
        - string
        - 'null'
      description: Description of the variant
    tags:
      type: object
      additionalProperties:
        type: string
      description: Free-form key-value tags (e.g., locale=nl-NL, brand=acme)
    hasDraft:
      type: boolean
      description: Whether this variant has an unpublished draft
    publishedVersions:
      type: array
      items:
        type: integer
      description: List of published version numbers
    createdAt:
      type: string
      format: date-time
      description: Timestamp when the variant was created
    lastModified:
      type: string
      format: date-time
      description: Timestamp when the variant was last modified

VariantSummaryDto:
  type: object
  description: Summary view of a variant for inclusion in template responses
  required:
    - id
    - tags
    - hasDraft
    - publishedVersions
  properties:
    id:
      type: string
      pattern: '^[a-z][a-z0-9]*(-[a-z0-9]+)*$'
      minLength: 3
      maxLength: 50
      description: Slug identifier of the variant
    title:
      type:
        - string
        - 'null'
      description: Human-readable title for the variant
    tags:
      type: object
      additionalProperties:
        type: string
      description: Free-form key-value tags
    hasDraft:
      type: boolean
      description: Whether this variant has an unpublished draft
    publishedVersions:
      type: array
      items:
        type: integer
      description: List of published version numbers

CreateVariantRequest:
  type: object
  description: Request body for creating a new variant
  required:
    - id
  properties:
    id:
      type: string
      pattern: '^[a-z][a-z0-9]*(-[a-z0-9]+)*$'
      minLength: 3
      maxLength: 50
      description: Client-provided slug identifier for the variant
    title:
      type:
        - string
        - 'null'
      description: Human-readable title for the variant
    description:
      type:
        - string
        - 'null'
      description: Description of the variant
    tags:
      type: object
      additionalProperties:
        type: string
      description: Free-form key-value tags for this variant

UpdateVariantRequest:
  type: object
  description: Request body for updating a variant
  properties:
    title:
      type:
        - string
        - 'null'
      description: Human-readable title for the variant
    description:
      type:
        - string
        - 'null'
      description: Description of the variant
    tags:
      type: object
      additionalProperties:
        type: string
      description: Updated tags for this variant

VariantListResponse:
  type: object
  description: List of template variants
  required:
    - items
  properties:
    items:
      type: array
      description: List of variants
      items:
        $ref: '#/VariantDto'

ActivationDto:
  type: object
  description: Environment activation for a variant. versionId IS the version number (1-200).
  required:
    - environmentId
    - environmentName
    - versionId
    - activatedAt
  properties:
    environmentId:
      type: string
      pattern: '^[a-z][a-z0-9]*(-[a-z0-9]+)*$'
      minLength: 3
      maxLength: 30
      description: Slug identifier of the environment
    environmentName:
      type: string
      description: Name of the environment
    versionId:
      type: integer
      minimum: 1
      maximum: 200
      description: ID of the active version (also the version number, 1-200)
    activatedAt:
      type: string
      format: date-time
      description: Timestamp when this version was activated

SetActivationRequest:
  type: object
  description: Request body for setting the active version for an environment
  required:
    - versionId
  properties:
    versionId:
      type: integer
      minimum: 1
      maximum: 200
      description: ID of the version to activate (version number, 1-200)

ActivationListResponse:
  type: object
  description: List of environment activations for a variant
  required:
    - items
  properties:
    items:
      type: array
      description: List of activations
      items:
        $ref: '#/ActivationDto'
