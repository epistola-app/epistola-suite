VersionDto:
  type: object
  description: Template version with content and lifecycle state. The id field IS the version number (1-200).
  required:
    - id
    - variantId
    - status
    - createdAt
  properties:
    id:
      type: integer
      minimum: 1
      maximum: 200
      description: Version identifier (also the version number, 1-200)
    variantId:
      type: string
      pattern: '^[a-z][a-z0-9]*(-[a-z0-9]+)*$'
      minLength: 3
      maxLength: 50
      description: Slug identifier of the variant this version belongs to
    templateModel:
      type: object
      additionalProperties: true
      description: The template model defining the document structure
    status:
      type: string
      enum:
        - draft
        - published
        - archived
      description: Lifecycle status of this version
    createdAt:
      type: string
      format: date-time
      description: Timestamp when the version was created
    publishedAt:
      type:
        - string
        - 'null'
      format: date-time
      description: Timestamp when the version was published
    archivedAt:
      type:
        - string
        - 'null'
      format: date-time
      description: Timestamp when the version was archived

VersionSummaryDto:
  type: object
  description: Summary view of a version for list displays. The id field IS the version number (1-200).
  required:
    - id
    - variantId
    - status
    - createdAt
  properties:
    id:
      type: integer
      minimum: 1
      maximum: 200
      description: Version identifier (also the version number, 1-200)
    variantId:
      type: string
      pattern: '^[a-z][a-z0-9]*(-[a-z0-9]+)*$'
      minLength: 3
      maxLength: 50
      description: Slug identifier of the variant this version belongs to
    status:
      type: string
      enum:
        - draft
        - published
        - archived
      description: Lifecycle status of this version
    createdAt:
      type: string
      format: date-time
      description: Timestamp when the version was created
    publishedAt:
      type:
        - string
        - 'null'
      format: date-time
      description: Timestamp when the version was published
    archivedAt:
      type:
        - string
        - 'null'
      format: date-time
      description: Timestamp when the version was archived

UpdateDraftRequest:
  type: object
  description: Request body for updating a draft version
  properties:
    templateModel:
      type: object
      additionalProperties: true
      description: Updated template model

VersionListResponse:
  type: object
  description: List of template versions
  required:
    - items
  properties:
    items:
      type: array
      description: List of versions
      items:
        $ref: '#/VersionSummaryDto'
